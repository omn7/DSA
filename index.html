<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A comprehensive collection of Data Structures and Algorithms (DSA) problems solved in Java by Om Narkhede. Includes solutions for Arrays, Strings, Recursion, Sorting, and more.">
    <meta name="keywords" content="DSA, Data Structures, Algorithms, Java, Programming, Coding, Om Narkhede, Portfolio, LeetCode, GeeksforGeeks">
    <meta name="author" content="Om Narkhede">
    <meta property="og:title" content="DSA Sheet By Om Narkhede">
    <meta property="og:description" content="My personal journey mastering Data Structures and Algorithms with Java. Explore solutions and code.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://omn7.github.io/DSA/">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22black%22/><text x=%2250%22 y=%2250%22 font-family=%22Arial, sans-serif%22 font-size=%2250%22 font-weight=%22bold%22 fill=%22white%22 text-anchor=%22middle%22 dy=%22.35em%22>Om</text></svg>">

    <title>DSA Sheet By Om Narkhede</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-hover: #4338ca;
            --secondary-color: #8b5cf6;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
        }

        [data-theme="dark"] {
            --bg-color: #000000;
            --card-bg: #0a0a0a;
            --text-main: #ffffff;
            --text-muted: #a3a3a3;
            --border-color: #262626;
            --primary-color: #6366f1;
            --primary-hover: #818cf8;
        }
        
        body {
            background-color: var(--bg-color);
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            -webkit-font-smoothing: antialiased;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3, h4, h5, .navbar-brand, .category-badge {
            font-family: 'Space Grotesk', sans-serif;
            letter-spacing: -0.02em; /* Tighter tracking for modern look */
        }

        .navbar {
            background-color: var(--card-bg) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
        }

        .navbar-brand, .nav-link, .btn-link-custom {
            color: var(--text-main) !important;
        }

        .hero-section {
            background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4338ca 100%);
            color: white;
            padding: 6rem 0 5rem;
            margin-bottom: 4rem;
            border-radius: 0 0 4rem 4rem;
            box-shadow: 0 20px 40px -10px rgba(49, 46, 129, 0.4);
            position: relative;
            overflow: hidden;
        }

        [data-theme="dark"] .hero-section {
            background: #000000;
            background-image: radial-gradient(circle at 50% 0%, #1a1a1a 0%, #000000 70%);
            box-shadow: none;
            border-bottom: 1px solid var(--border-color);
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            animation: rotate 20s linear infinite;
            pointer-events: none;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .stats-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .category-badge {
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 50rem;
            padding: 0.5rem 1.25rem;
            margin: 0.25rem;
            font-weight: 500;
            font-size: 0.9rem;
            border: 1px solid var(--border-color);
            background: var(--card-bg);
            color: var(--text-muted);
        }

        .category-badge:hover {
            transform: translateY(-1px);
            border-color: var(--primary-color);
            color: var(--primary-color);
            background-color: var(--bg-color);
        }

        .category-badge.active {
            background-color: var(--primary-color) !important;
            color: white !important;
            border-color: var(--primary-color);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.25);
        }

        .problem-card {
            border: 1px solid var(--border-color);
            border-radius: 1.25rem;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            height: 100%;
            background: var(--card-bg);
            /* box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05); */
            overflow: hidden;
            position: relative;
        }

        .problem-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-color);
        }

        .search-container {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 50rem; /* Pill shape */
            transition: all 0.3s;
        }
        
        .search-container:focus-within {
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
            border-color: var(--primary-color);
            transform: translateY(-1px);
        }


        .status-badge {
            font-size: 0.7rem;
            padding: 0.4em 1em;
            border-radius: 2rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border: none;
            padding: 0.7rem 1.5rem;
            font-weight: 500;
            border-radius: 1rem;
            transition: all 0.2s;
        }

        .btn-primary:hover {
            background-color: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .code-modal .modal-content {
            border-radius: 1rem;
            overflow: hidden;
            border: none;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            height: 85vh; /* Fixed height for split view */
        }
        
        .code-modal .modal-body {
            padding: 0;
            overflow: hidden; /* Handle scrolling in children */
        }
        
        .split-view-container {
            display: flex;
            height: 100%;
        }
        
        .left-pane {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            border-right: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-main);
        }
        
        .right-pane {
            flex: 1.2; /* Code side slightly wider */
            display: flex;
            flex-direction: column;
            background-color: #1e1e1e; /* VS Code dark bg */
            overflow: hidden;
        }

        .code-header {
            padding: 0.75rem 1rem;
            background-color: #252526;
            border-bottom: 1px solid #3e3e42;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .code-editor-area {
            flex: 1;
            overflow: auto;
            padding: 0;
            position: relative;
        }

        pre {
            margin: 0 !important;
            border-radius: 0 !important;
            min-height: 100%;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            background-color: transparent !important;
        }

        /* Specific scrollbar for the dark code area */
        .right-pane ::-webkit-scrollbar-track {
            background: #1e1e1e; 
        }
        .right-pane ::-webkit-scrollbar-thumb {
            background: #424242; 
        }
        .right-pane ::-webkit-scrollbar-thumb:hover {
            background: #4f4f4f; 
        }


        /* Animation */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-in {
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0; /* Start hidden */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Theme Fixes */
        .text-muted {
            color: var(--text-muted) !important;
        }

        .form-control, .input-group-text {
            background-color: var(--card-bg) !important;
            color: var(--text-main) !important;
            border: 1px solid var(--border-color);
        }
        
        .form-control:focus {
            background-color: var(--card-bg);
            color: var(--text-main);
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(79, 70, 229, 0.25);
        }

        .form-control::placeholder {
            color: var(--text-muted);
        }

        [data-theme="dark"] .card-title, 
        [data-theme="dark"] h5.card-title {
            color: #ffffff !important;
        }

        footer {
            background-color: var(--card-bg) !important;
            border-color: var(--border-color) !important;
        }

        /* Dark Mode Global Headings */
        [data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3, 
        [data-theme="dark"] h4, [data-theme="dark"] h5, [data-theme="dark"] h6 {
            color: #ffffff !important;
        }

        /* Modal & UI Tweaks for Dark Mode */
        .modal-header {
            background-color: var(--card-bg) !important;
            color: var(--text-main);
            border-bottom: 1px solid var(--border-color) !important;
        }

        [data-theme="dark"] .btn-close {
            filter: invert(1) grayscale(100%) brightness(200%);
        }

        .description-box {
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
        }

        /* Card Cracking Animation */
        @keyframes crackOpen {
            0% { transform: perspective(1000px) rotateY(0); opacity: 1; }
            50% { transform: perspective(1000px) rotateY(-15deg); opacity: 0.8; }
            100% { transform: perspective(1000px) rotateY(-90deg) scale(0.9); opacity: 0; }
        }

        .card-crack {
            transform-origin: left center;
            animation: crackOpen 0.5s ease-in forwards;
            pointer-events: none; /* Prevent double clicks */
        }

        /* Simple Toggle Switch */
        .theme-switch-wrapper {
            display: flex;
            align-items: center;
        }
        
        .theme-switch {
            display: inline-block;
            height: 26px;
            position: relative;
            width: 50px;
            margin-bottom: 0;
        }

        .theme-switch input {
            display: none;
        }

        .slider {
            background-color: #cbd5e1;
            bottom: 0;
            cursor: pointer;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            transition: .4s;
            border-radius: 34px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .slider:before {
            background-color: #fff;
            bottom: 3px;
            content: "";
            height: 20px;
            left: 3px;
            position: absolute;
            transition: .4s;
            width: 20px;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            z-index: 2;
        }

        input:checked + .slider {
            background-color: #4f46e5;
        }

        input:checked + .slider:before {
            transform: translateX(24px);
        }

        .slider-icon {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            transition: opacity 0.3s;
        }

        .slider-icon.sun {
            left: 7px;
            color: #f59e0b;
            opacity: 1;
        }

        .slider-icon.moon {
            right: 7px;
            color: #fbbf24;
            opacity: 0;
        }

        input:checked + .slider .slider-icon.sun {
            opacity: 0;
        }

        input:checked + .slider .slider-icon.moon {
            opacity: 1;
        }

    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top shadow-sm py-2">
        <div class="container">
            <a class="navbar-brand fw-bold fs-5 d-flex align-items-center" href="#">
                <span class="rounded bg-primary text-white d-flex align-items-center justify-content-center me-2 shadow-sm" style="width: 32px; height: 32px; font-size: 0.9rem;">
                    <i class="fas fa-code"></i>
                </span>
                DSA Journey
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="ms-auto d-flex align-items-center gap-3">
                    <button class="btn btn-link text-decoration-none p-0 btn-link-custom me-2" onclick="document.getElementById('search-input').focus(); window.scrollTo({top: document.getElementById('search-input').getBoundingClientRect().top + window.scrollY - 100, behavior: 'smooth'});">
                        <i class="fas fa-search"></i>
                    </button>
                    <div class="vr d-none d-md-block mx-2 opacity-25"></div>
                    <div class="theme-switch-wrapper">
                        <label class="theme-switch" for="theme-toggle">
                            <input type="checkbox" id="theme-toggle" />
                            <div class="slider">
                                <i class="fas fa-sun slider-icon sun"></i>
                                <i class="fas fa-moon slider-icon moon"></i>
                            </div>
                        </label>
                    </div>
                    <a href="https://github.com/omn7/DSA" target="_blank" class="btn btn-primary btn-sm rounded-pill px-3 shadow-sm">
                        <i class="fab fa-github me-2"></i>GitHub
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container position-relative z-2">
            <div class="row align-items-center py-4">
                <div class="col-lg-7 mb-5 mb-lg-0 text-start">
                    <span class="badge bg-white bg-opacity-10 border border-white border-opacity-25 mb-3 px-3 py-2 rounded-pill">
                        <i class="fas fa-code-branch me-2"></i>DSA Journey v1.0
                    </span>
                    <h1 class="display-3 fw-bold mb-3 lh-sm">
                        Mastering Algorithms <br>
                        <span style="color: #818cf8;">One Problem at a Time</span>
                    </h1>
                    <p class="lead mb-4 opacity-75 pe-lg-5" style="max-width: 600px;">
                        A curated collection of Data Structures and Algorithms solutions in Java. 
                        Focusing on clean code, optimization, and deep understanding.
                    </p>
                    <div class="d-flex gap-3 text-start">
                        <a href="https://omnarkhede.tech" target="_blank" class="btn btn-light px-4 py-2 rounded-pill fw-bold text-primary border-0 shadow-sm">
                            <i class="fas fa-user-circle me-2"></i>Portfolio
                        </a>
                        <a href="#problems-grid" class="btn btn-outline-light px-4 py-2 rounded-pill">
                             Explore
                        </a>
                    </div>
                </div>
                
                <div class="col-lg-5">
                    <div class="row g-3">
                        <div class="col-6">
                            <div class="stats-card h-100 p-4">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="rounded-circle bg-success bg-opacity-25 p-2 me-3">
                                        <i class="fas fa-check text-success"></i>
                                    </div>
                                    <span class="small opacity-75">Solved</span>
                                </div>
                                <h2 class="fw-bold mb-0" id="total-problems">0</h2>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card h-100 p-4">
                                <div class="d-flex align-items-center mb-2">
                                    <div class="rounded-circle bg-warning bg-opacity-25 p-2 me-3">
                                        <i class="fas fa-folder text-warning"></i>
                                    </div>
                                    <span class="small opacity-75">Topics</span>
                                </div>
                                <h2 class="fw-bold mb-0" id="categories-count">0</h2>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="stats-card p-4">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div>
                                        <p class="small opacity-75 mb-1">Completion Rate</p>
                                        <h2 class="fw-bold mb-0">98%</h2>
                                    </div>
                                    <div class="rounded-circle bg-info bg-opacity-25 p-3">
                                        <i class="fas fa-chart-line text-info fs-4"></i>
                                    </div>
                                </div>
                                <div class="progress mt-3" style="height: 6px; background-color: rgba(255,255,255,0.1);">
                                    <div class="progress-bar bg-info" role="progressbar" style="width: 98%" aria-valuenow="98" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="container mb-5">
        
        <!-- Filters -->
        <div class="d-flex flex-wrap justify-content-center mb-5" id="category-filters">
            <span class="badge bg-white text-dark border category-badge active" onclick="filterProblems('all', this)">All</span>
            <!-- Categories will be injected here -->
        </div>

        <!-- Search -->
        <div class="row justify-content-center mb-5">
            <div class="col-md-6">
                <div class="search-container p-1 d-flex shadow-sm">
                    <span class="input-group-text border-0 bg-transparent ps-3 text-muted"><i class="fas fa-search"></i></span>
                    <input type="text" class="form-control border-0 bg-transparent shadow-none" id="search-input" placeholder="Search for a problem or algorithm..." style="font-size: 1rem;">
                </div>
            </div>
        </div>

        <!-- Problems Grid -->
        <div class="row g-4" id="problems-grid">
            <!-- Problems will be injected here -->
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-5 mt-auto border-top">
        <div class="container text-center">
            <p class="mb-2 text-muted">Built with <i class="fas fa-heart text-danger mx-1"></i> and Java</p>
            <p class="small text-muted opacity-75">&copy; 2025 <a href="https://omnarkhede.tech" target="_blank" class="text-decoration-none text-muted fw-bold">omn7</a>. Open Source.</p>
        </div>
    </footer>

    <!-- Code Modal (Split View) -->
    <div class="modal fade code-modal" id="codeModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-bottom p-3 d-flex align-items-center">
                    <h5 class="modal-title fw-bold" id="modalTitle">Problem Title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="split-view-container">
                        <!-- Left Pane: Problem Description -->
                        <div class="left-pane">
                            <div class="mb-4">
                                <span class="badge bg-primary bg-opacity-10 text-primary mb-2" id="problemCategory">Category</span>
                                <h4 class="fw-bold mb-3" id="problemTitleLeft">Problem Title</h4>
                                
                                <div class="description-box p-3 mb-4">
                                    <h6 class="fw-bold mb-2"><i class="fas fa-book-open me-2 text-primary"></i>Description</h6>
                                    <p class="text-muted small mb-0" id="theoryContent">
                                        Loading theory...
                                    </p>
                                </div>

                                <div id="questionContainer" class="mb-4 d-none">
                                    <h6 class="fw-bold mb-2"><i class="fas fa-question-circle me-2 text-warning"></i>Problem Statement</h6>
                                    <p id="questionContent" class="text-muted small"></p>
                                </div>

                                <div id="imageContainer" class="d-none mt-3">
                                    <img id="problemImage" src="" alt="Explanation" class="img-fluid rounded shadow-sm border">
                                </div>
                            </div>
                        </div>

                        <!-- Right Pane: Code Editor -->
                        <div class="right-pane">
                            <div class="code-header">
                                <div class="d-flex align-items-center">
                                    <i class="fab fa-java text-warning me-2 fs-5"></i>
                                    <span class="text-light small font-monospace" id="fileNameDisplay">Solution.java</span>
                                </div>
                                <div>
                                    <button class="btn btn-sm btn-dark border border-secondary text-secondary me-2" onclick="copyCode(this)">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <a id="githubLink" href="#" target="_blank" class="btn btn-sm btn-dark border border-secondary text-secondary">
                                        <i class="fas fa-external-link-alt"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="code-editor-area">
                                <pre><code class="language-java" id="codeContent">// Loading...</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <footer class="py-5 mt-auto" style="background-color: var(--bg-color); border-top: 1px solid var(--border-color);">
        <div class="container text-center">
            <p class="text-muted mb-3">&copy; 2026 DSA Journey. Built with <i class="fas fa-heart text-danger mx-1"></i> by Om Narkhede.</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="#" class="text-decoration-none text-muted hover-primary transition"><i class="fab fa-twitter fa-lg"></i></a>
                <a href="https://github.com/omn7" class="text-decoration-none text-muted hover-primary transition"><i class="fab fa-github fa-lg"></i></a>
                <a href="#" class="text-decoration-none text-muted hover-primary transition"><i class="fab fa-linkedin fa-lg"></i></a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>

    <script>
        // Theme Toggle Logic
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;

        function setTheme(theme) {
            html.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            // Animation is handled via CSS on [data-theme]
        }

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            setTheme(currentTheme === 'dark' ? 'light' : 'dark');
        });

        // Init Theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        setTheme(savedTheme);
        if (savedTheme === 'dark') {
            document.getElementById('theme-toggle').checked = true;
        }

        // Data Source
        const problems = [
            // Searching
            { title: "Binary Search", category: "Searching", file: "binarysearch.java", status: "Completed", theory: "Binary Search is an efficient algorithm for finding an item from a sorted list of items. It works by repeatedly dividing in half the portion of the list that could contain the item, until you've narrowed down the possible locations to just one." },
            { title: "Linear Search", category: "Searching", file: "linearsearch.java", status: "Completed", theory: "Linear Search is the simplest searching algorithm that checks every element in the list sequentially until the desired element is found or the list ends. Time Complexity: O(n)." },
            
            // Number Systems
            { title: "Binary to Decimal", category: "Number Systems", file: "bintodec.java", status: "Completed", theory: "Converts a binary number (base-2) to a decimal number (base-10) by summing the products of binary digits and their corresponding powers of 2." },
            { title: "Index", category: "Number Systems", file: "index.java", status: "Completed", theory: "Basic operations involving array indexing and element access." },

            // Arrays
            { title: "Largest Element", category: "Arrays", file: "LargestElement.java", status: "Completed", theory: "Finds the maximum element in an array by iterating through it and keeping track of the largest value seen so far." },
            { title: "Second Largest Array", category: "Arrays", file: "secondlargestarray.java", status: "Completed", theory: "Finds the second largest element in an array. This can be done in a single traversal by maintaining two variables for the largest and second largest values." },
            { title: "Subarray", category: "Arrays", file: "subarray.java", status: "Completed", theory: "A subarray is a contiguous part of an array. Problems often involve finding subarrays with specific properties, like maximum sum or specific length." },
            { title: "Prefix", category: "Arrays", file: "prefix.java", status: "Completed", theory: "Prefix Sum involves precomputing an array where the element at index i stores the sum of the original array from index 0 to i. Useful for range sum queries." },
            { title: "Prefix Sum Implementation", category: "Arrays", file: "prefixsum.java", status: "Completed", theory: "Basic implementation of prefix sum array calculation." },
            { title: "Kadane's Algorithm", category: "Arrays", file: "kadane.java", status: "Completed", theory: "Finds the contiguous subarray with the largest sum using Kadane's Algorithm. It checks current sum and resets it to 0 if it becomes negative, while constantly tracking the maximum sum found so far.", question: "Given an integer array nums, find the subarray with the largest sum, and return its sum. Example: [-2,1,-3,4,-1,2,1,-5,4] -> 6" },
            { title: "Find Repeat & Missing", category: "Arrays", file: "findrepeatandmissingvalue.java", status: "In Progress", theory: "Given an array of size N with elements from 1 to N, find the repeating and missing numbers. Can be solved using frequency arrays, math equations, or XOR." },
            { title: "Find Missing Number", category: "Arrays", file: "rev/MissingNumber.java", status: "Completed", theory: "Finds the missing number in an array containing numbers from 1 to N using the sum formula: expected sum = N*(N+1)/2, then subtract the actual sum." },
            { title: "Trapping Rain Water", category: "Arrays", file: "trappingrainwater.java", status: "Completed", theory: "Calculates how much rainwater can be trapped between bars. The amount of water at any index is determined by the minimum of the maximum heights to its left and right minus its own height." },
            { title: "Buy and Sell Stock", category: "Arrays", file: "BuyAndSellStock.java", status: "Completed", theory: "Maximize profit by buying a stock on one day and selling it on a future day. Requires finding the maximum difference between two elements such that the larger element appears after the smaller one." },
            { title: "Best Way to Buy and Sell Stock", category: "Arrays", file: "BestWayToBuyAndSellStock.java", status: "Completed", theory: "Find maximum profit by buying at the lowest price and selling at a future highest price." },
            { title: "Move Negative Elements", category: "Arrays", file: "MoveAllNegativeElementsToEnd.java", status: "Completed", theory: "Rearrange the array elements so that all negative numbers appear on one side (usually the beginning or end) while maintaining the relative order of other elements if required." },
            { title: "Move Zeros At Last", category: "Arrays", file: "moveZerosAtLast.java", status: "Completed", theory: "Move all zeros to the end while maintaining the relative order of non-zero elements. Two-pass solution: compact non-zeros then fill zeros.", question: "Given array nums, move zeros to end in-place. Example: [0,1,0,3,12] -> [1,3,12,0,0]" },
            { title: "Find Max Consecutive Ones", category: "Arrays", file: "findMaxConsecutiveOnesArray.java", status: "Completed", theory: "Finds the maximum count of consecutive 1s in a binary array by iterating through and tracking the current count, updating max when encountering a 0.", question: "Given a binary array nums, find the maximum consecutive 1s. Example: [1,1,0,1,1,1] -> 3" },
            { title: "Subarray Sum Equals K (Optimal)", category: "Arrays", file: "SubarraySumEqualsKUsingOptimal.java", status: "Completed", theory: "Counts subarrays with sum k using a prefix-sum HashMap. For each prefix sum, look for (currentSum - k) occurrences seen so far. Time: O(n), Space: O(n).", question: "Given an integer array nums and an integer k, return the total number of subarrays whose sum equals k. Example: nums=[1,1,1], k=2 -> 2" },
            { title: "Subarray Sum Equals K (Brute Force)", category: "Arrays", file: "SubarraySumEqualsKBruteforce.java", status: "Completed", theory: "Counts subarrays with sum K using nested loops. Time Complexity: O(n^2)." },
            { title: "Longest Sub Array with Time Complexity of O(n3)", category: "Arrays", file: "LongestSubarrayWithSumK.java", status: "Completed", theory: "Finds the longest subarray with a given sum using a brute-force approach with three nested loops. Time Complexity: O(n³), Space Complexity: O(1). Not optimal but demonstrates the problem.", question: "Find the longest subarray with maximum sum. Brute force approach: check all subarrays and compute their sum. Example: [1,1,2,3,3,4,5,6,7,8,8] -> max sum subarray" },
            { title: "Longest Subarray Sum K (HashMap)", category: "Arrays", file: "LongestSubarraySumK.java", status: "Completed", theory: "Finds the longest subarray with sum K using HashMap to store prefix sums. Time Complexity: O(n)." },
            { title: "Longest Subarray Sum K (Two Pointer)", category: "Arrays", file: "longestSubarrayWithSumKOptimised.java", status: "Completed", theory: "Finds the longest subarray with sum K using a sliding window/two pointer approach (valid for non-negative numbers)." },
            { title: "Rotate Array (Brute Force)", category: "Arrays", file: "RotateTheArrayByDburtef.java", status: "Completed", theory: "Rotate an array to the right by d positions using a temporary buffer or element-by-element shifts.", question: "Given an array nums and an integer k, rotate the array to the right by k steps. Example: nums = [1,2,3,4,5,6,7,8], k = 3 -> [6,7,8,1,2,3,4,5]" },
            { title: "Rotate Array (Optimal)", category: "Arrays", file: "RotateTheArrayByDOptimalway.java", status: "Completed", theory: "Efficient in-place rotation techniques (reverse method or cyclic replacements). Time: O(n), Space: O(1).", question: "Rotate array in-place by k steps to the right. Constraints: do it with O(1) extra space when possible. Example: nums = [1,2,3,4,5,6,7,8], k = 3 -> [6,7,8,1,2,3,4,5]" },
            { title: "Union of Two Arrays", category: "Arrays", file: "UnionOfTwoArray.java", status: "Completed", theory: "Finds the union of two arrays using a HashSet to handle duplicates." },
            { title: "Majority Element (Moore's Voting)", category: "Arrays", file: "MooreMajority.java", status: "Completed", theory: "Finds the majority element (appears more than n/2 times) using Moore's Voting Algorithm. Efficient O(n) time and O(1) space by maintaining a candidate and a count.", question: "Given an array of size n, find the majority element. The majority element is the element that appears more than ⌊n / 2⌋ times. You may assume that the majority element always exists in the array." },
            { title: "Sort Colors", category: "Arrays", file: "SortColors.java", status: "Completed", theory: "Sorts an array of 0s, 1s, and 2s in-place. Can be solved using the Dutch National Flag algorithm (one pass) or simple counting (two pass).", question: "Given an array nums with n objects colored red, white, or blue, sort them in-place so that objects of the same color are adjacent, with the colors in the order red, white, and blue (represented by 0, 1, and 2)." },
            { title: "Brute Force Prep", category: "Arrays", file: "bruteforceprep1.java", status: "Completed", theory: "Calculates max sum of subarray using a basic brute force approach." },
            { title: "Rearrange Array (Brute Approach)", category: "Arrays", file: "rearrangeArray.java", status: "Completed", theory: "Rearrange array elements by sign using auxiliary arrays to store positive and negative numbers separately." },
            { title: "Leaders in Array (Brute Force)", category: "Arrays", file: "leaderInARRAY.java", status: "Completed", theory: "Finds the leaders in an array. An element is a leader if it is greater than all the elements to its right side. Brute force approach checks every element against all elements to its right. Time Complexity: O(n^2)." },
            { title: "Leaders in Array (Optimal)", category: "Arrays", file: "leaderInArrayOptimal.java", status: "Completed", theory: "Finds the leaders in an array efficiently by traversing from right to left and keeping track of the maximum element seen so far. Time Complexity: O(n), Space Complexity: O(1) (excluding output storage)." },
            { title: "Longest Consecutive Sequence (Brute Force)", category: "Arrays", file: "longestConsecutiveSequenceBrute.java", status: "Completed", theory: "Finds the length of the longest consecutive elements sequence by iterating through each element and performing a linear search for the next consecutive number. Time Complexity: O(N^3)." },
            { title: "Longest Consecutive Sequence (Better)", category: "Arrays", file: "longestConsecutiveSequenceBetter.java", status: "Completed", theory: "Improves efficiency by sorting the array first. Consecutive elements are then found by a single pass. Time Complexity: O(NlogN) due to sorting." },

            // Sorting
            { title: "Bubble Sort", category: "Sorting", file: "BubbleSort.java", status: "Completed", theory: "Bubble Sort is a simple sorting algorithm that repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. Time Complexity: O(n^2)." },
            { title: "Bubble Sort (Kth Smallest)", category: "Sorting", file: "bubblesortbykthterm.java", status: "Completed", theory: "Bubble Sort repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. Can be modified to find the Kth smallest element." },
            { title: "Merge Sort", category: "Sorting", file: "MergeSort.java", status: "Completed", theory: "A divide-and-conquer algorithm that divides the input array into two halves, calls itself for the two halves, and then merges the two sorted halves." },
            { title: "Selection Sort", category: "Sorting", file: "SelectionSort.java", status: "Completed", theory: "Sorts an array by repeatedly finding the minimum element (considering ascending order) from the unsorted part and putting it at the beginning." },
            { title: "Insertion Sort", category: "Sorting", file: "insertionSort.java", status: "Completed", theory: "Insertion Sort builds the final sorted array one item at a time. It iterates through the input elements and grows a sorted array behind it." },
            { title: "Quick Sort", category: "Sorting", file: "quicksort.java", status: "Completed", theory: "Quick Sort is a divide-and-conquer algorithm that picks a pivot element and partitions the array around it, placing smaller elements before and larger elements after. Average Time Complexity: O(n log n)." },

            // Matrix
            { title: "Diagonal Sum", category: "Matrix", file: "digonalsum.java", status: "Completed", theory: "Calculates the sum of elements on the primary (top-left to bottom-right) and secondary (top-right to bottom-left) diagonals of a square matrix." },
            { title: "Spiral Matrix 2D", category: "Matrix", file: "spiralmatrix2d.java", status: "In Progress", theory: "Traverses a 2D matrix in a spiral order, typically starting from the top-left corner and moving clockwise towards the center." },
            { title: "Staircase Matrix Search", category: "Matrix", file: "staircasematrix.java", status: "Completed", theory: "Efficiently searches for a target value in a matrix where rows and columns are sorted. Starts from the top-right or bottom-left corner to eliminate rows or columns." },

            // Patterns
            { title: "Pattern", category: "Patterns", file: "pattern.java", status: "Completed", theory: "Basic pattern printing using nested loops." },
            { title: "Pattern 2", category: "Patterns", file: "pattern2.java", status: "Completed", theory: "Intermediate pattern printing involving spaces and stars." },
            { title: "Pattern 3", category: "Patterns", file: "pattern3.java", status: "Completed", theory: "Complex pattern printing." },
            { title: "Diamond Pattern", category: "Patterns", file: "dimond.java", status: "Completed", theory: "Prints a diamond shape using stars, requiring careful management of spaces and stars in increasing and decreasing order." },
            { title: "Rombus 1", category: "Patterns", file: "rombus1.java", status: "Completed", theory: "Variation of the rhombus pattern." },

            // Strings
            { title: "String Compression", category: "Strings", file: "StringCompress.java", status: "Completed", theory: "Compresses a string by replacing sequences of the same character with that character followed by the count (e.g., 'aabcccccaaa' becomes 'a2b1c5a3')." },
            { title: "Palindrome", category: "Strings", file: "paladrome.java", status: "Completed", theory: "Checks if a string reads the same backward as forward. Common approach uses two pointers from start and end." },
            { title: "Convert to Upper Case", category: "Strings", file: "ConvertLetterToUpperCase.java", status: "Completed", theory: "Converts all lowercase characters in a string to uppercase, often using ASCII values or built-in language methods." },
            { title: "Largest String Alphabetically", category: "Strings", file: "LargestStringAlbhabetically.java", status: "Completed", theory: "Finds the lexicographically largest string from a set of strings." },
            { title: "Shortest Path", category: "Strings", file: "shortestpath.java", status: "Completed", theory: "Calculates the shortest path distance from origin (0,0) given a string of directions (N, S, E, W)." },

            // Basic / OOP
            { title: "Getter and Setter", category: "Basic & OOP", file: "GetterAndSette.java", status: "Completed", theory: "Demonstrates Encapsulation in Java using private variables and public getter/setter methods to access and modify them." },
            { title: "OOPs Concepts", category: "Basic & OOP", file: "oops.java", status: "Completed", theory: "Overview of Object-Oriented Programming concepts: Inheritance, Polymorphism, Abstraction, and Encapsulation." },
            { title: "Data Type", category: "Basic & OOP", file: "datatype.java", status: "Completed", theory: "Introduction to primitive (int, char, boolean, etc.) and non-primitive data types in Java." },
            { title: "Function", category: "Basic & OOP", file: "function.java", status: "Completed", theory: "Basics of defining and calling functions (methods) in Java, including parameters and return types." },
            { title: "Reverse", category: "Basic & OOP", file: "reverse.java", status: "Completed", theory: "Basic algorithm to reverse a number or a string." },
            { title: "Brute Force", category: "Basic & OOP", file: "bruteforce.java", status: "Completed", theory: "Solving a problem by trying every possible solution. Simple to implement but often inefficient." },
            { title: "Prime 1", category: "Basic & OOP", file: "prime1.java", status: "Completed", theory: "Checks if a number is prime (divisible only by 1 and itself). Optimization involves checking divisors up to the square root of the number." },
            { title: "Single Inheritance", category: "Basic & OOP", file: "OOPs/SingleInheratence.java", status: "Completed", theory: "Demonstrates single inheritance where a child class extends a parent class. The child class inherits all non-private members of the parent and can override methods.", question: "Create a parent class Vehicle with a drive() method and a child class Car that extends Vehicle and overrides the drive() method." },
            { title: "Number Checker", category: "Basic & OOP", file: "case.java", status: "Completed", theory: "Checks if a number is positive using if-else logic." },
            { title: "If-Else Logic", category: "Basic & OOP", file: "ifelse.java", status: "Completed", theory: "Demonstrates conditional logic using ternary operators." },

            // Loops
            { title: "For Loop", category: "Loops", file: "forloop.java", status: "Completed", theory: "Demonstration of the 'for' loop structure for iterating a specific number of times." },
            { title: "Loop", category: "Loops", file: "loop.java", status: "Completed", theory: "General loop concepts." },
            { title: "Loops", category: "Loops", file: "loops.java", status: "Completed", theory: "Advanced loop usage." },
            { title: "First Natural Numbers", category: "Loops", file: "firstnatural.java", status: "Completed", theory: "Prints the first N natural numbers using loops." },
            { title: "N Div 2", category: "Loops", file: "ndiv2.java", status: "Completed", theory: "Looping logic involving division." },

            // Recursion
            { title: "Reverse Array", category: "Recursion", file: "reverseArray.java", status: "Completed", theory: "Reverses an array using recursion by swapping the first and last elements and making a recursive call for the inner subarray." },
            { title: "Backtracking", category: "Recursion", file: "recursionBacktracking.java", status: "Completed", theory: "Algorithmic-technique for solving problems recursively by trying to build a solution incrementally and abandoning it ('backtracking') if it fails." },
            { title: "Backtracking N to 1", category: "Recursion", file: "recursionBacktrackingNto1.java", status: "Completed", theory: "Prints numbers from N to 1 using backtracking logic." },
            { title: "Reverse Number", category: "Recursion", file: "RecursionReverseNum.java", status: "Completed", theory: "Reverses the digits of a number using recursion." },
            { title: "Recursion Name", category: "Recursion", file: "recusionName.java", status: "Completed", theory: "Basic recursion example." },
            { title: "Recursion Test", category: "Recursion", file: "recusiont.java", status: "Completed", theory: "Recursion practice." },
            { title: "Sum of Numbers", category: "Recursion", file: "sumofNumrecu.java", status: "Completed", theory: "Calculates the sum of first N natural numbers using recursion: Sum(n) = n + Sum(n-1)." },
            { title: "Fibonacci", category: "Recursion", file: "RecursionFabonacchi.java", status: "Completed", theory: "Calculates the Nth Fibonacci number where F(n) = F(n-1) + F(n-2)." },
            { title: "Palindrome (Recursion)", category: "Recursion", file: "RecursionPalandrom.java", status: "Completed", theory: "Checks if a string is a palindrome using recursion by comparing the first and last characters and recurring for the substring." },

            // Hashing
            { title: "Number Hashing", category: "Hashing", file: "Hashing.java", status: "Completed", theory: "Using a frequency array or HashMap to count occurrences of numbers in an array." },
            { title: "Character Hashing", category: "Hashing", file: "HashingChar.java", status: "Completed", theory: "Using an array (size 26 or 256) to count occurrences of characters in a string." },
            { title: "All Character Hashing", category: "Hashing", file: "HashingForAllChar.java", status: "Completed", theory: "Hashing technique to handle all ASCII characters." },
            { title: "Remove Duplicates (HashMap)", category: "Hashing", file: "removeDuplicatesUsingHashMap.java", status: "Completed", theory: "Removes duplicate elements from an array using a HashSet to track unique elements encountered so far.", image: "dsa/DryRun/removeDublicatesUsingHashset.png" },
            { title: "Remove Duplicates (Optimal)", category: "Arrays", file: "removeDuplicatesOptimalWay.java", status: "Completed", theory: "Removes duplicates from a sorted array in-place using the Two Pointer approach. Time Complexity: O(n), Space Complexity: O(1)." }
        ];

        // Initialization
        document.addEventListener('DOMContentLoaded', () => {
            renderCategories();
            renderProblems(problems);
            updateStats();
        });

        // Render Categories
        function renderCategories() {
            const categories = ['all', ...new Set(problems.map(p => p.category))];
            const container = document.getElementById('category-filters');
            
            // Keep 'All' and append others
            container.innerHTML = categories.map(cat => `
                <span class="badge border category-badge ${cat === 'all' ? 'active' : ''}" 
                      onclick="filterProblems('${cat}', this)">
                    ${cat.charAt(0).toUpperCase() + cat.slice(1)}
                </span>
            `).join('');
        }

        // Render Problems
        function renderProblems(data) {
            const grid = document.getElementById('problems-grid');
            grid.innerHTML = data.map((problem, index) => `
                <div class="col-md-6 col-lg-4 animate-in" style="animation-delay: ${index * 0.05}s">
                    <div class="card problem-card p-4">
                        <div class="card-body d-flex flex-column p-0">
                            <div class="d-flex justify-content-between align-items-start mb-3">
                                <span class="badge border rounded-pill px-3 py-2 fw-normal" style="color: var(--primary-color); background: var(--bg-color); border-color: var(--primary-color) !important;">
                                    ${problem.category}
                                </span>
                                ${problem.status === 'Completed' ? 
                                    '<span class="text-success small"><i class="fas fa-check-circle fs-5"></i></span>' : 
                                    '<span class="text-warning small"><i class="fas fa-hourglass-half fs-5"></i></span>'
                                }
                            </div>
                            
                            <h5 class="card-title fw-bold mb-2 h4">${problem.title}</h5>
                            
                            <p class="card-text text-muted small flex-grow-1" style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; height: 4.5em;">
                                ${problem.theory || 'No description available.'}
                            </p>

                            <div class="mt-4 pt-3 border-top" style="border-color: var(--border-color) !important;">
                                <button class="btn btn-primary w-100 rounded-pill py-2 fw-semibold shadow-sm" onclick="viewCode('${problem.file}', '${problem.title}', this)">
                                    View Solution <i class="fas fa-arrow-right ms-2 small"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter Logic
        function filterProblems(category, element) {
            // Update active badge
            document.querySelectorAll('.category-badge').forEach(el => el.classList.remove('active'));
            element.classList.add('active');

            // Filter data
            const filtered = category === 'all' 
                ? problems 
                : problems.filter(p => p.category === category);
            
            renderProblems(filtered);
        }

        // Search Logic
        document.getElementById('search-input').addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = problems.filter(p => 
                p.title.toLowerCase().includes(term) || 
                p.category.toLowerCase().includes(term)
            );
            renderProblems(filtered);
        });

        // View Code Logic
        async function viewCode(filename, title, btnButton) {
            // Animation logic
            if(btnButton) {
                const card = btnButton.closest('.problem-card');
                if(card) {
                    card.classList.add('card-crack');
                    // Reset after animation (optional, if user closes modal and sees card again)
                    setTimeout(() => {
                        card.classList.remove('card-crack');
                    }, 500); // Same as animation duration
                }
            }

            // Slight delay to let animation start
            await new Promise(r => setTimeout(r, 200));

            const modal = new bootstrap.Modal(document.getElementById('codeModal'));
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('problemTitleLeft').textContent = title; 
            document.getElementById('fileNameDisplay').textContent = filename; 
            document.getElementById('codeContent').textContent = '// Fetching code from GitHub...';
            document.getElementById('githubLink').href = `https://github.com/omn7/DSA/blob/main/dsa/${filename}`;
            
            // Find problem details
            const problem = problems.find(p => p.file === filename);
            document.getElementById('theoryContent').textContent = problem && problem.theory 
                ? problem.theory 
                : "Detailed theory for this problem is coming soon.";
            
            document.getElementById('problemCategory').textContent = problem ? problem.category : 'Algorithm';

            // Set Question (if available)
            const questionContainer = document.getElementById('questionContainer');
            const questionEl = document.getElementById('questionContent');
            
            if (problem && problem.question) {
                questionEl.textContent = problem.question;
                questionContainer.classList.remove('d-none');
            } else {
                questionContainer.classList.add('d-none');
            }

            // Set Image
            const imgContainer = document.getElementById('imageContainer');
            const imgElement = document.getElementById('problemImage');
            
            if (problem && problem.image) {
                imgElement.src = problem.image;
                imgContainer.classList.remove('d-none');
            } else {
                imgContainer.classList.add('d-none');
            }

            modal.show();

            try {
                // Fetch raw content from GitHub
                const response = await fetch(`https://raw.githubusercontent.com/omn7/DSA/main/dsa/${filename}`);
                if (!response.ok) throw new Error('Failed to load code');
                
                const code = await response.text();
                document.getElementById('codeContent').textContent = code;
                
                // Re-run Prism highlighting
                Prism.highlightElement(document.getElementById('codeContent'));
            } catch (error) {
                document.getElementById('codeContent').textContent = '// Error loading code. Please check your internet connection or view on GitHub.';
            }
        }

        // Copy Code Logic
        function copyCode(btn) {
            const code = document.getElementById('codeContent').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const original = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                btn.classList.remove('btn-outline-light');
                btn.classList.add('btn-success');
                
                setTimeout(() => {
                    btn.innerHTML = original;
                    btn.classList.remove('btn-success');
                    btn.classList.add('btn-outline-light');
                }, 2000);
            });
        }

        // Update Stats
        function updateStats() {
            document.getElementById('total-problems').textContent = problems.length;
            const categories = new Set(problems.map(p => p.category)).size;
            document.getElementById('categories-count').textContent = categories;
        }
    </script>
    
    <!-- 3D Animation Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let vantaEffect = null;
            
            const initVanta = (theme) => {
                if(vantaEffect) vantaEffect.destroy();

                const isDark = theme === 'dark';
                
                vantaEffect = VANTA.NET({
                    el: ".hero-section",
                    mouseControls: true,
                    touchControls: true,
                    gyroControls: false,
                    minHeight: 200.00,
                    minWidth: 200.00,
                    scale: 1.00,
                    scaleMobile: 1.00,
                    color: 0x6366f1,       // Primary: Indigo-500
                    backgroundColor: isDark ? 0x000000 : 0x1e1b4b, // Black or Deep Blue
                    points: 12.00,
                    maxDistance: 22.00,
                    spacing: 18.00,
                    showDots: true
                });
            };

            // Init on load
            const currentTheme = localStorage.getItem('theme') || 'light';
            initVanta(currentTheme);

            // Hook into theme toggle
            const themeBtn = document.getElementById('theme-toggle');
            themeBtn.addEventListener('click', () => {
                // Wait for the theme to flip in local storage or DOM
                setTimeout(() => {
                    const newTheme = document.documentElement.getAttribute('data-theme');
                    initVanta(newTheme);
                }, 50);
            });
        });
    </script>
</body>
</html>